(window.webpackJsonpasodex=window.webpackJsonpasodex||[]).push([[0],{112:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(13),l=t.n(c),o=(t(85),t(20)),s=t(27),i=t(10),m=t(50),u=t(34),d=t(71),p=(t(90),t(2)),f={loggedIn:!1,fetching:!1,error:"",message:"",user:{},token:""},E="LOGIN",v="LOGIN_SUCCESS",b="LOGIN_ERROR",g="LOADING",h="LOGOUT",N="REGISTER",y="REGISTER_SUCCESS",j="REGISTER_ERROR",O="UPDATE_PROFILE",x="UPDATE_PROFILE_SUCCESS",w="UPDATE_PROFILE_ERROR",_="CHANGE_PASSWORD",C="CHANGE_PASSWORD_SUCCESS",S="CHANGE_PASSWORD_ERROR";var k={fetching:!1,error:"",message:"",users:[]},A="USERS",T="USERS_SUCCESS",R="USERS_ERROR";var P={fetching:!1,error:"",message:"",vehiculos:[],vehiculo:{},search:[]},I="VEHICULO",V="VEHICULO_SUCCESS",L="VEHICULO_ERROR";var H={fetching:!1,error:"",message:"",servicios:[],servicio:{},search:[]},U="SERVICIO",D="SERVICIO_SUCCESS",G="SERVICIO_ERROR";var F={fetching:!1,error:"",message:"",talleres:[],taller:{},search:[]},z="TALLER",M="TALLER_SUCCESS",W="TALLER_ERROR";var B={fetching:!1,error:"",message:"",categorias:[]},Z="CATEGORIA",J="CATEGORIA_SUCCESS",K="CATEGORIA_ERROR";var q={fetching:!1,error:"",message:"",reservaciones:[],reservacion:{},search:[]},$="RESERVACION",Q="RESERVACION_SUCCESS",X="RESERVACION_ERROR";var Y=Object(u.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case E:return Object(p.a)({},e,{fetching:!0});case v:return Object(p.a)({},e,{fetching:!1},a.payload);case b:return Object(p.a)({},e,{fetching:!1,error:a.payload});case g:return Object(p.a)({},e,{fetching:!1},a.payload);case N:return Object(p.a)({},e,{fetching:!0});case y:return Object(p.a)({},e,{fetching:!1,message:a.payload.message,error:""});case j:return Object(p.a)({},e,{fetching:!1,message:a.payload.message,error:a.payload.message});case h:return Object(p.a)({},e,{fetching:!1},a.payload);case O:return Object(p.a)({},e,{fetching:!0});case x:return Object(p.a)({},e,{fetching:!1},a.payload,{error:""});case w:return Object(p.a)({},e,{fetching:!1,message:a.payload.message});case _:return Object(p.a)({},e,{fetching:!0},a.payload);case C:case S:return Object(p.a)({},e,{fetching:!1,message:a.payload.message});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case A:return Object(p.a)({},e,{fetching:!0});case T:return Object(p.a)({},e,{fetching:!1},a.payload);case R:return Object(p.a)({},e,{fetching:!1,error:a.payload});default:return e}},cars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case I:return Object(p.a)({},e,{fetching:!0});case V:return Object(p.a)({},e,{fetching:!1},a.payload);case L:return Object(p.a)({},e,{fetching:!1,error:a.payload});default:return e}},services:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case U:return Object(p.a)({},e,{fetching:!0});case D:return Object(p.a)({},e,{fetching:!1},a.payload);case G:return Object(p.a)({},e,{fetching:!1,error:a.payload});default:return e}},workshops:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case z:return Object(p.a)({},e,{fetching:!0});case M:return Object(p.a)({},e,{fetching:!1},a.payload);case W:return Object(p.a)({},e,{fetching:!1,error:a.payload});default:return e}},categoria:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Z:return Object(p.a)({},e,{fetching:!0});case J:return Object(p.a)({},e,{fetching:!1},a.payload);case K:return Object(p.a)({},e,{fetching:!1,error:a.payload});default:return e}},reservaciones:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case $:return Object(p.a)({},e,{fetching:!0});case Q:return Object(p.a)({},e,{fetching:!1},a.payload);case X:return Object(p.a)({},e,{fetching:!1,error:a.payload});default:return e}}}),ee=[];ee=[].concat(Object(m.a)(ee),[d.a]);var ae=Object(u.d)(Y,{},u.a.apply(void 0,Object(m.a)(ee))),te=t(75),ne=t(134),re=t(135),ce=t(143),le=t(35),oe=t.n(le),se=t(74),ie=t(47),me=t.n(ie),ue={booking_date:"Fecha de Reserva",trip_start_time:"Hora de inicio del viaje",trip_end_time:"Hora de finalizaci\xf3n del viaje",customer_name:"Nombre del Cliente",car_type:"Tipo de Vehiculo",vehicle_no:"Numero de Placa",pickup_address:"Direcci\xf3n de Recoguida",pais:"Pais",ciudad:"Ciudad",drop_address:"Direcci\xf3n de Llegada",assign_driver:"Conductor Asignado",booking_status:"Estado de la Reservaci\xf3n",trip_cost:"Costo del Viaje",discount_ammount:"Descuento",payment_status:"Estado de Pago",payment_mode:"Modo de Pago",booking_text:"Reservas",image:"Imagen",name:"Nombre",rate_per_km:"Tarifa por Kilometro",rate_per_hour:"Tarifa por Hora",min_fare:"Tarifa Minima",convenience_fee:"Tarifas de Conveniencia",convenience_fee_percent:"Tarifas de Conveniencia (%)",today_text:"Hoy",gross_earning:"Total de Ganancias",admin_convenience_fee:"Nuestra Ganancia",this_month_text:"Mes",total:"Total",real_time_driver_section_text:"Conductores en Tiempo Real",allow_location:"Permitir ubicaci\xf3n para el mapa en tiempo real",sign_in:"Inicia Sesi\xf3n",email_address:"Correo Electronico",password:"Contrase\xf1a",sign_in_error:"Error de inicio de sesi\xf3n. Por favor, compruebe el correo electr\xf3nico y la contrase\xf1a.",device_type:"Tipo de Dispositivo",user_type:"Tipo de Usuario",title:"Titulo",body:"Cuerpo",push_notification_title:"Enviar Notificaci\xf3n",promo_name:"Promoci\xf3n",description:"Descripci\xf3n",promo_type:"Tipo de Promoci\xf3n",promo_discount_value:"Valor de descuento promocional",max_limit:"Limite Maximo",min_limit:"Limite Minimo",start_date:"Fecha de Inicio (Dia/Mes/A\xf1o)",end_date:"Fecha de Fin (Dia/Mes/A\xf1o)",promo_usage:"L\xedmite de uso de la promoci\xf3n",promo_used_by:"Promoci\xf3n usada por",promo_offer:"Promociones y Ofertas",refferal_bonus:"Bono de Referencia",submit:"Enviar",update_failed:"Error en la actualizaci\xf3n",first_name:"Nombre",last_name:"Apellido",email:"Correo Electronico",mobile:"Telefono",profile_image:"Imagen de Perfil",vehicle_model:"Modelo de Vehiculo",account_approve:"Cuenta Aprobada",driver_active:"Estado del Conductor",lisence_image:"Licencia de Conducir",vehicle_number:"N\xfamero de Matricula",wallet_balance:"Saldo de Billetera",signup_via_refferal:"Inscripci\xf3n a trav\xe9s de la referencia",refferal_id:"ID",all_user:"Todos los Usuarios",notification_sent:"Notificaciones Enviadas.",notification_sent_failed:"Error en el env\xedo de notificaciones.",no_user_match:"No hay usuarios emparejados",no_user_matching:"No se han encontrado usuarios que coincidan con su selecci\xf3n.",dashboard_text:"Inicio",user:"Usuarios",booking_history:"Historial de Reservas",promo:"Promoci\xf3n",logout:"Cerrar Sesi\xf3n",driver_earning:"Ganancias del Conductor",earning_amount:"Importe de la ganancia",driver_name:"Nombre del Controlador",driver_image:"Imagen del Conductor",months:"Meses",year:"A\xf1os",vehicle_type:"N\xfamero de Matricula",lisence_no:"Licencia de Conducir",booking_discount_earning:"Descuento de Reserva",trip_cost_driver_share:"Costo del viaje/Cuota del conductor",Gross_trip_cost:"Costo del Viaje",Discounts:"Descuentos",Customer_paid:"Cliente Pagado",Profit:"Beneficio ( Cuenta Pagada - Costo del viaje )",earning_reports:"Informes de Ganancias",cash_payment_amount:"Pago en Efectivo",card_payment_amount:"Pago con Tarjeta",wallet_payment_amount:"Pago con Billetera",payment_getway:"Pago con Getway",direction_url:"Coordenadas de Usuario",name_client:"Nombre Cliente",name_driver:"Nombre Conductor",img_drive_perfile:"Foto del conductor",hora_emit:"Alerta emitida (Hora)"};var de=function(){return r.a.createElement("div",{className:"left-side-menu"},r.a.createElement("div",{className:"media user-profile mt-2 mb-2 d-flex justify-content-center"},r.a.createElement("img",{src:me.a,className:"avatar-sm rounded-circle",alt:"Perfil"}),r.a.createElement("img",{src:me.a,className:"avatar-xs rounded-circle",alt:"Perfil"}),r.a.createElement("div",{className:"media-body ml-2"},r.a.createElement("h6",{className:"pro-user-name mt-0 mb-0 "},"Panel"),r.a.createElement("span",{className:"pro-user-desc"},"Administrador"))),r.a.createElement("div",{className:"sidebar-content"},r.a.createElement("div",{id:"sidebar-menu",className:"slimscroll-menu"},r.a.createElement("ul",{className:"metismenu",id:"menu-bar",onClick:function(e){for(var a=document.getElementsByClassName("menu-active-drawer"),t=0;t<a.length;t++){var n=a[t];e.target.parentNode.parentNode===n?n.classList.toggle("mm-active"):n.classList.remove("mm-active")}}},r.a.createElement("li",{className:"mm-active menu-active-drawer"},r.a.createElement(ce.a,{component:o.b,to:"/"},r.a.createElement("i",{className:"fas fa-columns"}),r.a.createElement("span",null," ",ue.dashboard_text," "))),r.a.createElement("li",{className:"menu-active-drawer"},r.a.createElement(ce.a,{component:o.b,to:"/usuarios"},r.a.createElement("i",{className:"fas fa-user"}),r.a.createElement("span",null," Usuarios "))),r.a.createElement("li",{className:"menu-active-drawer"},r.a.createElement(ce.a,{component:o.b,to:"/vehiculos"},r.a.createElement("i",{className:"fas fa-car"}),r.a.createElement("span",null," Vehiculos "))),r.a.createElement("li",{className:"menu-active-drawer"},r.a.createElement(ce.a,{component:o.b,to:"/servicios"},r.a.createElement("i",{className:"fas fa-clipboard-list"}),r.a.createElement("span",null," Servicios "))),r.a.createElement("li",{className:"menu-active-drawer"},r.a.createElement(ce.a,{component:o.b,to:"/talleres"},r.a.createElement("i",{className:"far fa-list-alt"}),r.a.createElement("span",null," Talleres "))),r.a.createElement("li",{className:"menu-active-drawer"},r.a.createElement(ce.a,{component:o.b,to:"/historial"},r.a.createElement("i",{className:"fas fa-clipboard-list"}),r.a.createElement("span",null," Historial ")))))))},pe=t(3),fe=t.n(pe),Ee=t(7),ve=t.n(Ee),be="http://localhost:5050/api",ge=function(e){return function(a){return fe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe.a.awrap(a({type:g,payload:{token:e}}));case 2:case"end":return t.stop()}}))}},he=function(){return function(e,a){return fe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:try{e({type:h,payload:{user:{},token:""}}),localStorage.removeItem("token")}catch(t){}case 1:case"end":return a.stop()}}))}},Ne=Object(se.a)((function(e){return{root:{display:"flex"},content:{flexGrow:1,padding:e.spacing(3),background:"#f3f4f7",width:"95%"}}}));var ye=function(e){var a=Ne(),t=Object(i.b)();return r.a.createElement("div",{className:a.root},r.a.createElement(ne.a,null),r.a.createElement(re.a,{position:"fixed"},r.a.createElement("div",{className:"navbar flex-column flex-md-row navbar-custom"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement(ce.a,{component:o.b,to:"/",className:"navbar-brand mr-0 mr-md-2 logo"},r.a.createElement("span",{className:"logo-lg d-flex align-items-center"},r.a.createElement("img",{src:oe.a,alt:"",width:"100"}),r.a.createElement("span",{className:"d-inline h5 ml-1"},"Automotriz")),r.a.createElement("span",{className:"logo-sm"},r.a.createElement("img",{src:oe.a,alt:"",width:"100"}))),r.a.createElement("ul",{className:"navbar-nav bd-navbar-nav flex-row list-unstyled menu-left mb-0"},r.a.createElement("li",{className:""},r.a.createElement("button",{className:"button-menu-mobile open-left disable-btn"},r.a.createElement("img",{src:oe.a,alt:"",width:"100"})))),r.a.createElement("ul",{className:"navbar-nav flex-row ml-auto d-flex list-unstyled topnav-menu float-right mb-0"},r.a.createElement("li",{className:"d-none d-sm-block"},r.a.createElement("div",{className:"app-search"},r.a.createElement("form",null,r.a.createElement("div",{className:"input-group"},r.a.createElement("i",{className:"fas fa-search"}),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Buscar..."}))))),r.a.createElement("li",{className:"dropdown notification-list","data-toggle":"tooltip","data-placement":"left",title:"Alerta de Notificaciones"},r.a.createElement(o.b,{className:"nav-link dropdown-toggle","data-toggle":"dropdown",to:"/notificaciones",role:"button","aria-haspopup":"false","aria-expanded":"false"},r.a.createElement("i",{className:"far fa-bell"}),r.a.createElement("span",{className:"noti-icon-badge"}))),r.a.createElement("li",{"data-toggle":"tooltip","data-placement":"left",title:ue.logout},r.a.createElement("a",{className:"nav-link dropdown-toggle",onClick:function(){t(he())},href:"/login",role:"button"},r.a.createElement("i",{className:"fas fa-sign-out-alt"}))))))),r.a.createElement(de,null),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:"content-page"},r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container-fluid ml-md-4 ml-lg-1"},e.children)),r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},"2020 \xa9 Automotriz. Todos los derechos reservados.")))))))};var je=function(e){var a=e.component,t=Object(te.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},t,{render:function(e){return localStorage.getItem("token")?r.a.createElement(ye,null,r.a.createElement(a,e)):r.a.createElement(s.a,{to:"/login"})}}))},Oe=t(9),xe=function(e){var a=Object(i.c)((function(e){return e.auth})),t=Object(i.b)(),c=Object(n.useState)(""),l=Object(Oe.a)(c,2),o=l[0],s=l[1],m=Object(n.useState)(""),u=Object(Oe.a)(m,2),d=u[0],p=u[1];Object(n.useEffect)((function(){a.token&&e.history.push("/")}));return r.a.createElement("div",{className:"authentication-bg"},r.a.createElement("div",{className:"account-pages my-5"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-xl-10"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 p-5"},r.a.createElement("div",{className:"mx-auto d-flex justify-content-center p-0 m-0"},r.a.createElement("a",{href:"index.html"},r.a.createElement("img",{src:oe.a,alt:"Admin",width:"180"}))),r.a.createElement("h6",{className:"h5 mb-0 p-0"},"\xa1Bienvenido!"),r.a.createElement("p",{className:"text-muted mt-1 mb-4"},"Por favor ingrese su correo electronico y se contrase\xf1a para acceder al panel admin"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t((function(e,a){var t,n;return fe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:E}),t={email:"customer@correo.com",password:"123456"},a.next=4,fe.a.awrap(ve.a.post("".concat(be,"/login"),t));case 4:!0===(n=a.sent).data.ok&&(e({type:v,payload:{user:n.data.data,token:n.data.token}}),localStorage.setItem("token",n.data.token)),e({type:b,payload:{message:n.data.err.message}});case 7:case"end":return a.stop()}}))}))},className:"authentication-form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"form-control-label"},ue.email_address),r.a.createElement("div",{className:"input-group input-group-merge"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-envelope"}))),r.a.createElement("input",{type:"email",className:"form-control",id:"email",placeholder:"correo electronico",name:"email",onChange:function(e){s(e.target.value)},value:o}))),r.a.createElement("div",{className:"form-group mt-4"},ue.password,r.a.createElement("div",{className:"input-group input-group-merge"},r.a.createElement("div",{className:"input-group-prepend"},r.a.createElement("span",{className:"input-group-text"},r.a.createElement("i",{className:"fas fa-lock"}))),r.a.createElement("input",{type:"password",className:"form-control",id:"password",placeholder:"contrase\xf1a",name:"password",value:d,onChange:function(e){p(e.target.value)}}))),r.a.createElement("div",{className:"form-group mb-0 text-center"},r.a.createElement("button",{className:"btn btn-primary btn-block",type:"submit"},ue.sign_in)))),r.a.createElement("div",{className:"col-lg-6 d-none d-md-inline-block"},r.a.createElement("div",{className:"auth-page-sidebar"},r.a.createElement("div",{className:"overlay"})))))))))))},we=t(137),_e=t(136);var Ce=function(){return r.a.createElement(_e.a,{container:!0,spacing:0,alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(we.a,null))},Se=function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row page-title align-items-center"},r.a.createElement("div",{className:"col-sm-4 col-xl-6"},r.a.createElement("h4",{className:"mb-1 mt-0"},"Todos los Porcentajes"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 col-xl-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("div",{className:"media p-3"},r.a.createElement("div",{className:"media-body"},r.a.createElement("span",{className:"text-muted text-uppercase font-size-12 font-weight-bold"},"Porcentaje de hoy"),r.a.createElement("h2",{className:"mb-0"},"hoas")),r.a.createElement("div",{className:"align-self-center"},r.a.createElement("div",{id:"today-revenue-chart",className:"apex-charts"}),r.a.createElement("span",{className:"text-success font-weight-bold font-size-13"},r.a.createElement("i",{className:"uil uil-arrow-up"})," 10.21%")))))),r.a.createElement("div",{class:"col-md-6 col-xl-4"},r.a.createElement("div",{class:"card"},r.a.createElement("div",{class:"card-body p-0"},r.a.createElement("div",{class:"media p-3"},r.a.createElement("div",{class:"media-body"},r.a.createElement("span",{class:"text-muted text-uppercase font-size-12 font-weight-bold"},"New Customers"),r.a.createElement("h2",{class:"mb-0"},"11")),r.a.createElement("div",{class:"align-self-center"},r.a.createElement("div",{id:"today-new-customer-chart",class:"apex-charts"}),r.a.createElement("span",{class:"text-success font-weight-bold font-size-13"},r.a.createElement("i",{class:"uil uil-arrow-up"})," 25.16%")))))),r.a.createElement("div",{className:"col-md-6 col-xl-4"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body p-0"},r.a.createElement("div",{className:"media p-3"},r.a.createElement("div",{className:"media-body"},r.a.createElement("span",{className:"text-muted text-uppercase font-size-12 font-weight-bold"},"Porcentaje Total"),r.a.createElement("h2",{className:"mb-0"},"hola")),r.a.createElement("div",{className:"align-self-center"},r.a.createElement("div",{id:"today-new-customer-chart",className:"apex-charts"}),r.a.createElement("span",{className:"text-success font-weight-bold font-size-13"},r.a.createElement("i",{className:"uil uil-arrow-up"})," 25.16%")))))))))};function ke(){var e=Object(n.useState)([]),a=Object(Oe.a)(e,2),t=a[0],c=a[1],l=Object(i.c)((function(e){return e.users}));return Object(n.useEffect)((function(){l.users&&c(l.users)}),[l.users]),l.fetching?r.a.createElement(Ce,null):r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"header-title mt-0 mb-1"},"Usuarios"),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{id:"datatable-buttons",className:"table table-striped dt-responsive nowrap"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Correo Electronico"),r.a.createElement("th",null,"Imagen de Perfil"),r.a.createElement("th",null,"Vehiculo"),r.a.createElement("th",null,"Tipo de Usuario"),r.a.createElement("th",null,"Estado"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.email),r.a.createElement("td",null,r.a.createElement("a",{href:e.img,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{alt:e.nombre,src:e.img,style:{width:50}}))),r.a.createElement("td",null,e.vehiculo[0]),r.a.createElement("td",null,e.role),r.a.createElement("td",null,!0===e.estado?"Activo":"Inactivo"))})))))))))}var Ae=t(140),Te=t(142),Re=t(138),Pe=t(139),Ie=t(30),Ve=t.n(Ie),Le=t(144),He=t(141),Ue=function(){return function(e,a){var t;return fe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:I}),a.prev=1,a.next=4,fe.a.awrap(ve.a.get("".concat(be,"/vehiculos")));case 4:t=a.sent,e({type:V,payload:{vehiculos:t.data.data}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:L,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}},De=function(e){return function(a,t){var n;return fe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:I}),t.prev=1,t.next=4,fe.a.awrap(ve.a.post("".concat(be,"/vehiculo"),e));case 4:n=t.sent,a({type:V,payload:{message:n.message}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:L,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}},Ge=function(e,a){return function(t,n){var r;return fe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:I}),n.prev=1,n.next=4,fe.a.awrap(ve.a.put("".concat(be,"/vehiculo/").concat(e),a));case 4:r=n.sent,t({type:V,payload:{message:r.message}}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t({type:L,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return n.stop()}}),null,null,[[1,8]])}},Fe=function(e){return function(a,t){var n;return fe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:I}),t.prev=1,t.next=4,fe.a.awrap(ve.a.delete("".concat(be,"/vehiculo/").concat(e)));case 4:n=t.sent,a({type:V,payload:{message:n.message}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:L,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}},ze=Object(se.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),Me=r.a.forwardRef((function(e,a){return r.a.createElement(Le.a,Object.assign({direction:"up",ref:a},e))}));function We(){var e=ze(),a=Object(n.useState)([]),t=Object(Oe.a)(a,2),c=t[0],l=t[1],o=Object(i.c)((function(e){return e.cars})),s=Object(i.b)(),m=Object(n.useState)(!1),u=Object(Oe.a)(m,2),d=u[0],f=u[1],E=Object(n.useState)({ejecutar:"",idEliminar:"",alert:"",msjAlert:""}),v=Object(Oe.a)(E,2),b=v[0],g=v[1],h=Object(n.useState)({kilometraje:"",disponible:!0,marca:"",modelo:"",ano:""}),N=Object(Oe.a)(h,2),y=N[0],j=N[1],O=function(){f(!1),g({ejecutar:"",idEliminar:"",nuevoObj:"",editarObj:""})},x=Object(n.useState)([]),w=Object(Oe.a)(x,2),_=w[0],C=w[1];Object(n.useEffect)((function(){o.vehiculos&&l(o.vehiculos)}),[o.vehiculos]);var S=y.kilometraje,k=y.disponible,A=y.marca,T=y.modelo,R=y.ano;return o.fetching?r.a.createElement(Ce,null):r.a.createElement(n.Fragment,null,r.a.createElement(Te.a,{fullWidth:!0,maxWidth:"xs",open:d,onClose:O,"aria-labelledby":"max-width-dialog-title",TransitionComponent:Me},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center col-12 py-2 px-4"},r.a.createElement(Re.a,{edge:"start",color:"inherit",onClick:function(){return O()},"aria-label":"close"},r.a.createElement(Ve.a,null)),r.a.createElement(Pe.a,{variant:"h6",className:e.title},"editar"===b.ejecutar?"Editar Vehiculo":"Nuevo Vehiculo"),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(Ae.a,{autoFocus:!0,color:"inherit",style:{fontSize:14,marginLeft:10},onClick:"editar"===b.ejecutar?function(e){e.preventDefault();var a=y.kilometraje,t=y.disponible,n=y.marca,r=y.modelo,c=y.ano;if(""===a&&""===t&&""===n&&""===r&&""===c)return g(Object(p.a)({},b,{alert:"alert-danger",msjAlert:"Todos los campos son obligatorios"})),void setTimeout((function(){g(Object(p.a)({},b,{alert:"",msjAlert:""}))}),2500);new Promise((function(e){setTimeout((function(){e(),s(Ge(_._id,y)),g(Object(p.a)({},b,{alert:"alert-success",msjAlert:"El Vehiculo se ha modificado Correctamente"})),s(Ue()),f(!1)}),600),setTimeout((function(){g(Object(p.a)({},b,{alert:"",msjAlert:"",ejecutar:""}))}),2500)}))}:function(e){e.preventDefault();var a=y.kilometraje,t=y.disponible,n=y.marca,r=y.modelo,c=y.ano;return""===a&&""===t&&""===n&&""===r&&""===c?(g(Object(p.a)({},b,{alert:"alert-danger",msjAlert:"Todos los campos son obligatorios"})),void setTimeout((function(){g(Object(p.a)({},b,{alert:"",msjAlert:""}))}),2500)):new Promise((function(e){setTimeout((function(){e(),s(De(y)),g(Object(p.a)({},b,{alert:"alert-success",msjAlert:"Se A\xf1adio un Nuevo Vehiculo Correctamente"})),f(!1),s(Ue())}),600),setTimeout((function(){g(Object(p.a)({},b,{alert:"",msjAlert:"",nuevo:!1}))}),2500)}))}},"editar"===b.ejecutar?"Editar":"Nuevo"))),r.a.createElement(He.a,{className:"p-0"},r.a.createElement("div",{className:" d-flex justify-content-center col-12 "},r.a.createElement("form",{className:"my-4 col-10"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",{for:"inputEmail4"},"Marca del vehiculo"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputEmail4",placeholder:"Marca",defaultValue:A,onChange:function(e){return j(Object(p.a)({},y,{marca:e.target.value}))}})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",{for:"inputPassword4"},"Modelo del vehiculo"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputPassword4",placeholder:"Modelo",defaultValue:T,onChange:function(e){return j(Object(p.a)({},y,{modelo:e.target.value}))}})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",{for:"inputCity"},"A\xf1o del vehiculo"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputCity",placeholder:"A\xf1o",defaultValue:R,onChange:function(e){return j(Object(p.a)({},y,{ano:e.target.value}))}})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",{for:"inputZip"},"kilometraje del vehiculo"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputZip",placeholder:"Kilometraje",defaultValue:S,onChange:function(e){return j(Object(p.a)({},y,{kilometraje:e.target.value}))}})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customSwitch1",defaultChecked:k,onChange:function(e){return j(Object(p.a)({},y,{disponible:e.target.checked}))}}),r.a.createElement("label",{className:"custom-control-label",for:"customSwitch1"},"Estado")))))))),r.a.createElement("div",{className:"row m-0 p-0"},b.alert?r.a.createElement("div",{className:"alert ".concat(b.alert," text-center my-4 col-12"),role:"alert"},b.msjAlert):"",r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h4",{className:"header-title mt-0 mb-1"},"Lista de Vehiculos"),r.a.createElement("button",{type:"buttom",className:"btn btn-success btn-sm ml-4",onClick:function(){g(Object(p.a)({},b,{ejecutar:"nuevo"})),f(!0)}},"A\xf1adir Vehiculo")),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{id:"datatable-buttons",className:"table table-striped dt-responsive nowrap"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Marca"),r.a.createElement("th",null,"Modelo"),r.a.createElement("th",null,"A\xf1o"),r.a.createElement("th",null,"Kilometraje"),r.a.createElement("th",null,"Estado"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,c.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.marca),r.a.createElement("td",null,e.modelo),r.a.createElement("td",null,e.ano),r.a.createElement("td",null,e.kilometraje),r.a.createElement("td",null,!0===e.disponible?"disponible":"desabilitado"),r.a.createElement("td",{className:"d-flex flex-column"},r.a.createElement("button",{type:"buttom",className:"btn btn-danger mb-2 btn-sm",onClick:function(){return a=e,new Promise((function(e){setTimeout((function(){e(),s(Fe(a._id)),g(Object(p.a)({},b,{alert:"alert-success",msjAlert:"El Vehiculo ha sido eliminado Correctamente"})),s(Ue())}),600),setTimeout((function(){g(Object(p.a)({},b,{alert:"",msjAlert:""}))}),2500)}));var a}},"Eliminar"),r.a.createElement("button",{type:"buttom",className:"btn btn-primary btn-sm",onClick:function(){j(e),C(e),g(Object(p.a)({},b,{ejecutar:"editar"})),f(!0)}},"Editar")))}))))))))))}var Be=function(){return function(e,a){var t;return fe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:z}),a.prev=1,a.next=4,fe.a.awrap(ve.a.get("".concat(be,"/talleres")));case 4:t=a.sent,e({type:M,payload:{talleres:t.data.data}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:W,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}},Ze=function(e,a){return function(t,n){var r,c,l;return fe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t({type:z}),n.prev=1,!a.archivo.name){n.next=8;break}return(c=new FormData).append("archivo",a.archivo,a.archivo.name),n.next=7,fe.a.awrap(ve.a.put("".concat(be,"/upload/talleres/talleres"),c));case 7:r=n.sent;case 8:return e.img=window.parent.location.origin+r.data.img,n.next=11,fe.a.awrap(ve.a.post("".concat(be,"/taller"),e));case 11:return l=n.sent,t({type:M,payload:{message:l.message}}),n.abrupt("return",l);case 16:n.prev=16,n.t0=n.catch(1),t({type:W,payload:{message:"Ha ocurrido un error"}});case 19:case"end":return n.stop()}}),null,null,[[1,16]])}},Je=function(e,a){return function(t,n){var r;return fe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:z}),n.prev=1,n.next=4,fe.a.awrap(ve.a.put("".concat(be,"/taller/").concat(e),a));case 4:r=n.sent,t({type:M,payload:{message:r.message}}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t({type:W,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return n.stop()}}),null,null,[[1,8]])}},Ke=function(e){return function(a,t){var n;return fe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:z}),t.prev=1,t.next=4,fe.a.awrap(ve.a.delete("".concat(be,"/taller/").concat(e)));case 4:n=t.sent,a({type:M,payload:{message:n.message}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:W,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}},qe=Object(se.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),$e=r.a.forwardRef((function(e,a){return r.a.createElement(Le.a,Object.assign({direction:"up",ref:a},e))}));function Qe(){var e=qe(),a=r.a.createRef(),t=Object(i.c)((function(e){return e.services.servicios})),c=Object(n.useState)([]),l=Object(Oe.a)(c,2),o=l[0],s=l[1],m=Object(i.c)((function(e){return e.workshops})),u=Object(i.b)(),d=Object(n.useState)(!1),f=Object(Oe.a)(d,2),E=f[0],v=f[1],b=Object(n.useState)({ejecutar:"",idEliminar:"",alert:"",msjAlert:""}),g=Object(Oe.a)(b,2),h=g[0],N=g[1],y=Object(n.useState)({nombre:"",descripcion:"",img:"no-img",email:"",ubicacion:"",puntuacion:"",horario:"",numero:""}),j=Object(Oe.a)(y,2),O=j[0],x=j[1],w=Object(n.useState)([{servicio:"",costo:""}]),_=Object(Oe.a)(w,2),C=_[0],S=_[1],k=function(e,a){return function(t){var n=C.map((function(n,r){return e!==r?n:("servicio"===a?n.servicio=n.servicio+t.target.value:n.costo=n.costo+t.target.value,n)}));S(n)}},A=function(){v(!1),N({ejecutar:"",idEliminar:"",nuevoObj:"",editarObj:""})},T=Object(n.useState)([]),R=Object(Oe.a)(T,2),P=R[0],I=R[1];Object(n.useEffect)((function(){m.talleres&&s(m.talleres)}),[m.talleres]);var V=O.nombre,L=(O.img,O.email),H=O.ubicacion,U=O.horario,D=O.numero;return m.fetching?r.a.createElement(Ce,null):r.a.createElement(n.Fragment,null,r.a.createElement(Te.a,{fullWidth:!0,maxWidth:"xs",open:E,onClose:A,"aria-labelledby":"max-width-dialog-title",TransitionComponent:$e},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center col-12 py-2 px-4"},r.a.createElement(Re.a,{edge:"start",color:"inherit",onClick:function(){return A()},"aria-label":"close"},r.a.createElement(Ve.a,null)),r.a.createElement(Pe.a,{variant:"h6",className:e.title},"editar"===h.ejecutar?"Editar Taller":"Nuevo Taller"),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(Ae.a,{autoFocus:!0,color:"inherit",style:{fontSize:14,marginLeft:10},onClick:"editar"===h.ejecutar?function(e){e.preventDefault();var a=O.nombre,t=O.img,n=O.email,r=O.ubicacion,c=O.horario,l=O.numero;if(""===a&&""===t&&""===n&&""===r&&""===c&&""===l)return N(Object(p.a)({},h,{alert:"alert-danger",msjAlert:"Todos los campos son obligatorios"})),void setTimeout((function(){N(Object(p.a)({},h,{alert:"",msjAlert:""}))}),2500);new Promise((function(e){setTimeout((function(){e(),u(Je(P._id,O)),N(Object(p.a)({},h,{alert:"alert-success",msjAlert:"El Taller se ha modificado Correctamente"})),v(!1),u(Be())}),600),setTimeout((function(){N(Object(p.a)({},h,{alert:"",msjAlert:"",ejecutar:""}))}),2500)}))}:function(e){e.preventDefault();var t=O.nombre,n=O.descripcion,r=O.img,c=O.email,l=O.ubicacion,o=O.horario,s=O.numero;return""===t&&""===n&&""===r&&""===c&&""===l&&""===o&&""===s?(N(Object(p.a)({},h,{alert:"alert-danger",msjAlert:"Todos los campos son obligatorios"})),void setTimeout((function(){N(Object(p.a)({},h,{alert:"",msjAlert:""}))}),2500)):new Promise((function(e){setTimeout((function(){e(),u(Ze(Object(p.a)({},O,{servicio:C}),{archivo:a.current.files[0]})),N(Object(p.a)({},h,{alert:"alert-success",msjAlert:"Se A\xf1adio un Nuevo Taller Correctamente"})),v(!1),u(Be())}),600),setTimeout((function(){N(Object(p.a)({},h,{alert:"",msjAlert:"",nuevo:!1}))}),2500)}))}},"editar"===h.ejecutar?"Editar":"Nuevo"))),r.a.createElement(He.a,{className:"p-0"},r.a.createElement("div",{className:" d-flex justify-content-center col-12 "},r.a.createElement("form",{className:"my-4 col-10 "},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null,"Nombre del Taller"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputEmail4",placeholder:"Nombre",defaultValue:V,onChange:function(e){return x(Object(p.a)({},O,{nombre:e.target.value}))}})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null,"Correo Electronico"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputCity",placeholder:"Correo ",defaultValue:L,onChange:function(e){return x(Object(p.a)({},O,{email:e.target.value}))}})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null,"Sube una Imagen"),r.a.createElement("input",{type:"file",accept:"image/*",ref:a})),r.a.createElement("div",{className:"d-flex justify-content-between col-12 mb-1"},r.a.createElement("label",null,"Tipo de Servicios"),r.a.createElement("button",{className:"btn btn-info btn-sm",type:"button",onClick:function(){S(C.concat({servicio:"",costo:""}))}},"Agregar Servicio")),C.map((function(e,a){return r.a.createElement("div",{key:a,className:"form-group col-12 d-flex justify-content-between p-0"},r.a.createElement("div",{className:"col-7 m-0 p-0"},r.a.createElement("select",{onChange:k(a,"servicio"),className:"custom-select",defaultValue:e.servicio},r.a.createElement("option",{selected:!0},"Servicio..."),t.map((function(e,a){return r.a.createElement("option",{key:a,defaultValue:JSON.stringify(e.servicio)},e.servicio)})))),r.a.createElement("div",{className:"col-4 m-0 p-0"},r.a.createElement("input",{type:"text",className:"form-control",id:"inputZip",placeholder:"Costo",onChange:k(a,"precio")})))})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null,"Ubicacion del Taller"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputZip",placeholder:"Ubicacion",defaultValue:H,onChange:function(e){return x(Object(p.a)({},O,{ubicacion:e.target.value}))}})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null,"Horarios"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputZip",placeholder:"00/00/00",defaultValue:U,onChange:function(e){return x(Object(p.a)({},O,{horario:e.target.value}))}})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null,"Numero de contacto"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputZip",placeholder:"Numero",defaultValue:D,onChange:function(e){return x(Object(p.a)({},O,{numero:e.target.value}))}}))))))),r.a.createElement("div",{className:"row m-0"},h.alert?r.a.createElement("div",{className:"alert ".concat(h.alert," text-center my-4 col-12"),role:"alert"},h.msjAlert):"",r.a.createElement("div",{className:"col-12 m-0 p-0"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h4",{className:"header-title mt-0 mb-1"},"Lista de Talleres"),r.a.createElement("button",{type:"buttom",className:"btn btn-success btn-sm ml-4",onClick:function(){N(Object(p.a)({},h,{ejecutar:"nuevo"})),v(!0)}},"A\xf1adir Taller")),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{id:"datatable-buttons",className:"table table-striped dt-responsive nowrap"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Correo Electronico"),r.a.createElement("th",null,"Servicio"),r.a.createElement("th",null,"Ubicacion"),r.a.createElement("th",null,"Horarios"),r.a.createElement("th",null,"Numero"),r.a.createElement("th",null,"Imagen"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,o.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.nombre),r.a.createElement("td",null,e.email),r.a.createElement("td",null,e.servicio[0].servicio),r.a.createElement("td",null,e.ubicacion),r.a.createElement("td",null,e.horario),r.a.createElement("td",null,e.numero),r.a.createElement("td",null,r.a.createElement("a",{href:e.img,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{alt:e.nombre,src:e.img,style:{width:50}}))),r.a.createElement("td",{className:"d-flex flex-column"},r.a.createElement("button",{type:"buttom",className:"btn btn-danger mb-2 btn-sm",onClick:function(){return a=e,new Promise((function(e){setTimeout((function(){e(),u(Ke(a._id)),N(Object(p.a)({},h,{alert:"alert-success",msjAlert:"El Taller ha sido eliminado Correctamente"})),u(Be())}),600),setTimeout((function(){N(Object(p.a)({},h,{alert:"",msjAlert:""}))}),2500)}));var a}},"Eliminar"),r.a.createElement("button",{type:"buttom",className:"btn btn-primary btn-sm",onClick:function(){x(e),I(e),N(Object(p.a)({},h,{ejecutar:"editar"})),v(!0)}},"Editar")))}))))))))))}var Xe=function(){return function(e,a){var t;return fe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:U}),a.prev=1,a.next=4,fe.a.awrap(ve.a.get("".concat(be,"/servicios")));case 4:t=a.sent,e({type:D,payload:{servicios:t.data.data}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:G,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}},Ye=function(e){return function(a,t){var n;return fe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:U}),t.prev=1,t.next=4,fe.a.awrap(ve.a.post("".concat(be,"/servicio"),e));case 4:n=t.sent,a({type:D,payload:{message:n.message}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:G,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}},ea=function(e,a){return function(t,n){var r;return fe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:U}),n.prev=1,n.next=4,fe.a.awrap(ve.a.put("".concat(be,"/servicio/").concat(e),a));case 4:r=n.sent,t({type:D,payload:{message:r.message}}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t({type:G,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return n.stop()}}),null,null,[[1,8]])}},aa=function(e){return function(a,t){var n;return fe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:U}),t.prev=1,t.next=4,fe.a.awrap(ve.a.delete("".concat(be,"/servicio/").concat(e)));case 4:n=t.sent,a({type:D,payload:{message:n.message}}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),a({type:G,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return t.stop()}}),null,null,[[1,8]])}},ta=function(){return function(e,a){var t;return fe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:Z}),a.prev=1,a.next=4,fe.a.awrap(ve.a.get("".concat(be,"/categorias")));case 4:t=a.sent,e({type:J,payload:{categorias:t.data.data}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:K,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}},na=function(e){return function(a,t){var n;return fe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Z}),t.prev=1,t.next=4,fe.a.awrap(ve.a.post("".concat(be,"/categoria"),e));case 4:n=t.sent,ta(),a({type:J,payload:{message:n.message}}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),a({type:K,payload:{message:"Ha ocurrido un error"}});case 12:case"end":return t.stop()}}),null,null,[[1,9]])}},ra=Object(se.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),ca=r.a.forwardRef((function(e,a){return r.a.createElement(Le.a,Object.assign({direction:"up",ref:a},e))}));function la(){var e=ra(),a=Object(i.c)((function(e){return e.categoria.categorias})),t=Object(n.useState)([]),c=Object(Oe.a)(t,2),l=c[0],o=c[1],s=Object(i.c)((function(e){return e.services})),m=Object(i.b)(),u=Object(n.useState)(!1),d=Object(Oe.a)(u,2),f=d[0],E=d[1],v=Object(n.useState)(!1),b=Object(Oe.a)(v,2),g=b[0],h=b[1],N=Object(n.useState)({ejecutar:"",idEliminar:"",alert:"",msjAlert:""}),y=Object(Oe.a)(N,2),j=y[0],O=y[1],x=Object(n.useState)({categoria:"",servicio:"",tiempo:"",disponible:!0}),w=Object(Oe.a)(x,2),_=w[0],C=w[1],S=Object(n.useState)({nombre:""}),k=Object(Oe.a)(S,2),A=k[0],T=k[1],R=function(){E(!1),h(!1),O({ejecutar:"",idEliminar:"",nuevoObj:"",editarObj:""})},P=Object(n.useState)([]),I=Object(Oe.a)(P,2),V=I[0],L=I[1];Object(n.useEffect)((function(){s.servicios&&o(s.servicios)}),[s.servicios]);var H=_.categoria,U=_.servicio,D=(_.precio,_.tiempo),G=_.disponible;return s.fetching?r.a.createElement(Ce,null):r.a.createElement(n.Fragment,null,r.a.createElement(Te.a,{fullWidth:!0,maxWidth:"xs",open:f,onClose:R,"aria-labelledby":"max-width-dialog-title",TransitionComponent:ca},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center col-12 py-2 px-4"},r.a.createElement(Re.a,{edge:"start",color:"inherit",onClick:function(){return R()},"aria-label":"close"},r.a.createElement(Ve.a,null)),r.a.createElement(Pe.a,{variant:"h6",className:e.title},"editar"===j.ejecutar?"Editar Servicio":"Nuevo Servicio"),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(Ae.a,{autoFocus:!0,color:"inherit",style:{fontSize:14,marginLeft:10},onClick:"editar"===j.ejecutar?function(e){e.preventDefault();var a=_.categoria,t=_.servicio,n=_.tiempo,r=_.disponible;if(""===a&&""===t&&""===n&&""===r)return O(Object(p.a)({},j,{alert:"alert-danger",msjAlert:"Todos los campos son obligatorios"})),void setTimeout((function(){O(Object(p.a)({},j,{alert:"",msjAlert:""}))}),2500);new Promise((function(e){setTimeout((function(){e(),m(ea(V._id,_)),O(Object(p.a)({},j,{alert:"alert-success",msjAlert:"El Vehiculo se ha modificado Correctamente"})),E(!1),m(Xe())}),600),setTimeout((function(){O(Object(p.a)({},j,{alert:"",msjAlert:"",ejecutar:""}))}),2500)}))}:function(e){e.preventDefault();var a=_.categoria,t=_.servicio,n=_.tiempo,r=_.disponible;return""===a&&""===t&&""===n&&""===r?(O(Object(p.a)({},j,{alert:"alert-danger",msjAlert:"Todos los campos son obligatorios"})),void setTimeout((function(){O(Object(p.a)({},j,{alert:"",msjAlert:""}))}),2500)):new Promise((function(e){setTimeout((function(){e(),m(Ye(_)),O(Object(p.a)({},j,{alert:"alert-success",msjAlert:"Se A\xf1adio un Nuevo Servicio Correctamente"})),m(Xe()),E(!1)}),600),setTimeout((function(){O(Object(p.a)({},j,{alert:"",msjAlert:"",nuevo:!1}))}),2500)}))}},"editar"===j.ejecutar?"Editar":"Nuevo"))),r.a.createElement(He.a,{className:"p-0"},r.a.createElement("div",{className:" d-flex justify-content-center col-12 "},r.a.createElement("form",{className:"my-4 col-10"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",null,"Categoria"),r.a.createElement("select",{onChange:function(e){return C(Object(p.a)({},_,{categoria:e.target.value}))},defaultChecked:H,className:"custom-select",defaultValue:H},r.a.createElement("option",{selected:!0},"Categoria..."),a.map((function(e,a){return r.a.createElement("option",{key:a,value:e.nombre},e.nombre)})))),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",{for:"inputPassword4"},"Servicio Especifico"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputPassword4",placeholder:"Servicio",defaultValue:U,onChange:function(e){return C(Object(p.a)({},_,{servicio:e.target.value}))}})),r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",{for:"inputZip"},"Tiempo estimado"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputZip",placeholder:"Tiempo",defaultValue:D,onChange:function(e){return C(Object(p.a)({},_,{tiempo:e.target.value}))}})),r.a.createElement("div",{className:"form-group col-12 "},r.a.createElement("div",{className:"custom-control custom-switch"},r.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customSwitch1",defaultChecked:G,onChange:function(e){return C(Object(p.a)({},_,{disponible:e.target.checked}))}}),r.a.createElement("label",{className:"custom-control-label",for:"customSwitch1"},"Estado")))))))),r.a.createElement(Te.a,{fullWidth:!0,maxWidth:"xs",open:g,onClose:R,"aria-labelledby":"max-width-dialog-title",TransitionComponent:ca},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center col-12 py-2 px-4"},r.a.createElement(Re.a,{edge:"start",color:"inherit",onClick:function(){return R()},"aria-label":"close"},r.a.createElement(Ve.a,null)),r.a.createElement(Pe.a,{variant:"h6",className:e.title},"Nueva Categoria"),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(Ae.a,{autoFocus:!0,color:"inherit",style:{fontSize:14,marginLeft:10},onClick:function(){return""===A.nombre?(O(Object(p.a)({},j,{alert:"alert-danger",msjAlert:"Todos los campos son obligatorios"})),void setTimeout((function(){O(Object(p.a)({},j,{alert:"",msjAlert:""}))}),2500)):new Promise((function(e){setTimeout((function(){e(),m(na(A)),O(Object(p.a)({},j,{alert:"alert-success",msjAlert:"Se A\xf1adio una Categoria Correctamente"})),h(!1),m(ta())}),600),setTimeout((function(){O(Object(p.a)({},j,{alert:"",msjAlert:"",nuevo:!1}))}),2500)}))}},"Aceptar"))),r.a.createElement(He.a,{className:"p-0"},r.a.createElement("div",{className:" d-flex justify-content-center col-12 "},r.a.createElement("form",{className:"my-4 col-10"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-12"},r.a.createElement("label",{for:"inputEmail4"},"Nombre de la Categoria"),r.a.createElement("input",{type:"text",className:"form-control",id:"inputEmail4",placeholder:"Categoria",defaultValue:A.nombre,onChange:function(e){return T(Object(p.a)({},A,{nombre:e.target.value}))}}))))))),r.a.createElement("div",{className:"row m-0 p-0"},j.alert?r.a.createElement("div",{className:"alert ".concat(j.alert," text-center my-4 col-12"),role:"alert"},j.msjAlert):"",r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h4",{className:"header-title mt-0 mb-1"},"Lista de Servicios"),r.a.createElement("div",{className:"d-flex"},r.a.createElement("button",{type:"buttom",className:"btn btn-info btn-sm ml-4",onClick:function(){h(!0)}},"A\xf1adir Categoria"),r.a.createElement("button",{type:"buttom",className:"btn btn-success btn-sm ml-4",onClick:function(){O(Object(p.a)({},j,{ejecutar:"nuevo"})),E(!0)}},"A\xf1adir Servicio"))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{id:"datatable-buttons",className:"table table-striped dt-responsive nowrap"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Categoria"),r.a.createElement("th",null,"Servicio"),r.a.createElement("th",null,"Tiempo"),r.a.createElement("th",null,"Estado"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,l.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.categoria),r.a.createElement("td",null,e.servicio),r.a.createElement("td",null,e.tiempo),r.a.createElement("td",null,!0===e.disponible?"disponible":"desabilitado"),r.a.createElement("td",{className:"d-flex flex-column"},r.a.createElement("button",{type:"buttom",className:"btn btn-danger mb-2 btn-sm",onClick:function(){return a=e,new Promise((function(e){setTimeout((function(){e(),m(aa(a._id)),O(Object(p.a)({},j,{alert:"alert-success",msjAlert:"El Servicio ha sido eliminado Correctamente"})),m(Xe())}),600),setTimeout((function(){O(Object(p.a)({},j,{alert:"",msjAlert:""}))}),2500)}));var a}},"Eliminar"),r.a.createElement("button",{type:"buttom",className:"btn btn-primary btn-sm",onClick:function(){C(e),L(e),O(Object(p.a)({},j,{ejecutar:"editar"})),E(!0)}},"Editar")))}))))))))))}var oa=function(){return function(e,a){var t;return fe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:$}),a.prev=1,a.next=4,fe.a.awrap(ve.a.get("".concat(be,"/reservaciones")));case 4:t=a.sent,e({type:Q,payload:{reservaciones:t.data.data}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:X,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}},sa=function(e,a){return function(t,n){var r;return fe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t({type:$}),n.prev=1,n.next=4,fe.a.awrap(ve.a.put("".concat(be,"/reservacion/").concat(e),a));case 4:r=n.sent,t({type:Q,payload:{message:r.message}}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),t({type:X,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return n.stop()}}),null,null,[[1,8]])}};function ia(){var e=Object(n.useState)([]),a=Object(Oe.a)(e,2),t=a[0],c=a[1],l=Object(i.c)((function(e){return e.reservaciones})),o=Object(i.b)();Object(n.useEffect)((function(){if(l.reservaciones){var e=l.reservaciones.filter((function(e){return"pendiente"===e.estado}));c(e)}}),[l.reservaciones]);return l.fetching?r.a.createElement(Ce,null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h4",{className:"header-title mt-0 mb-1"},"Solicitudes de Servicios")),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{id:"datatable-buttons",className:"table table-striped dt-responsive nowrap"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Cliente"),r.a.createElement("th",null,"Vehiculo"),r.a.createElement("th",null,"Taller"),r.a.createElement("th",null,"Servicio"),r.a.createElement("th",null,"Costo"),r.a.createElement("th",null,"Agendar cita"),r.a.createElement("th",null,"Estado"),r.a.createElement("th",null,"Acciones"))),r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.usuario.nombre),r.a.createElement("td",null,e.vehiculo.modelo),r.a.createElement("td",null,e.taller.nombre),r.a.createElement("td",null,e.servicio.servicio),r.a.createElement("td",null,e.costo),r.a.createElement("td",null,"".concat(e.dia," ").concat(e.hora)),r.a.createElement("td",null,e.estado),r.a.createElement("td",{className:"d-flex flex-column"},r.a.createElement("button",{type:"buttom",className:"btn btn-danger mb-2 btn-sm",onClick:function(){return a=e._id,o(sa(a,{estado:"rechazado"})),void o(oa());var a}},"Rechazar"),r.a.createElement("button",{type:"buttom",className:"btn btn-primary btn-sm",onClick:function(){var a;a=e._id,o(sa(a,{estado:"aprovado"})),o(oa())}},"Aprovar")))}))))))))))}var ma=function(){return function(e,a){var t;return fe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e({type:A}),a.prev=1,a.next=4,fe.a.awrap(ve.a.get("".concat(be,"/usuarios")));case 4:t=a.sent,e({type:T,payload:{users:t.data.data}}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:R,payload:{message:"Ha ocurrido un error"}});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}};var ua=function(e){var a=Object(i.b)(),t=Object(i.c)((function(e){return e.auth}));return Object(n.useEffect)((function(){t.token?t.token&&(a(Ue()),a(ma()),a(Xe()),a(Be()),a(ta()),a(oa())):a(ge(localStorage.getItem("token")))}),[t.token,a]),t.fetching?r.a.createElement(Ce,null):e.children};function da(){var e=Object(n.useState)([]),a=Object(Oe.a)(e,2),t=a[0],c=a[1],l=Object(i.c)((function(e){return e.reservaciones}));Object(i.b)();return Object(n.useEffect)((function(){l.reservaciones&&c(l.reservaciones)}),[l.reservaciones]),l.fetching?r.a.createElement(Ce,null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row m-0 p-0"},r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between"},r.a.createElement("h4",{className:"header-title mt-0 mb-1"},"Historial de Servicios")),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{id:"datatable-buttons",className:"table table-striped dt-responsive nowrap"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Cliente"),r.a.createElement("th",null,"Vehiculo"),r.a.createElement("th",null,"Taller"),r.a.createElement("th",null,"Servicio"),r.a.createElement("th",null,"Costo"),r.a.createElement("th",null,"Agendar cita"),r.a.createElement("th",null,"Estado"))),r.a.createElement("tbody",null,t.map((function(e){var a="rechazado"===e.estado?"text-danger":"cancelado"===e.estado?"text-warning":"aprovado"===e.estado?"text-info":"exitoso"===e.estado?"text-success":"";return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.usuario.nombre),r.a.createElement("td",null,e.vehiculo.modelo),r.a.createElement("td",null,e.taller.nombre),r.a.createElement("td",null,e.servicio.servicio),r.a.createElement("td",null,e.costo),r.a.createElement("td",null,"".concat(e.dia," ").concat(e.hora)),r.a.createElement("td",{className:a},e.estado))}))))))))))}var pa=function(){return r.a.createElement(i.a,{store:ae},r.a.createElement(ua,null,r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(je,{exact:!0,component:Se,path:"/"}),r.a.createElement(je,{exact:!0,component:ke,path:"/usuarios"}),r.a.createElement(je,{exact:!0,component:We,path:"/vehiculos"}),r.a.createElement(je,{exact:!0,component:la,path:"/servicios"}),r.a.createElement(je,{exact:!0,component:Qe,path:"/talleres"}),r.a.createElement(je,{exact:!0,component:da,path:"/historial"}),r.a.createElement(je,{exact:!0,component:ia,path:"/notificaciones"}),r.a.createElement(s.b,{component:xe,path:"/login"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(pa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},35:function(e,a,t){e.exports=t.p+"static/media/logo.f98da334.png"},47:function(e,a,t){e.exports=t.p+"static/media/profilePic.de4be021.png"},80:function(e,a,t){e.exports=t(112)},85:function(e,a,t){}},[[80,1,2]]]);
//# sourceMappingURL=main.dab01c41.chunk.js.map